"use strict";(self.webpackChunkatomic_packages=self.webpackChunkatomic_packages||[]).push([[5861],{9592(r,e,n){n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"Guides/ErrorBoundary","title":"ErrorBoundary","description":"The ErrorBoundary component provides a way to catch JavaScript errors in your component tree and display fallback UI instead of crashing the entire application.","source":"@site/../packages/atomic-elements/docs/Guides/ErrorBoundary.mdx","sourceDirName":"Guides","slug":"/Guides/ErrorBoundary","permalink":"/atomic-libs/elements/Guides/ErrorBoundary","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"ErrorBoundary"},"sidebar":"mainSidebar","previous":{"title":"Variants","permalink":"/atomic-libs/elements/Guides/Customization/Variants"},"next":{"title":"Fields Introduction","permalink":"/atomic-libs/elements/Guides/Fields/FieldsIntro"}}');var t=n(4848),s=n(8453);const a={title:"ErrorBoundary"},i="ErrorBoundary",l={},c=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"Static Fallback",id:"static-fallback",level:3},{value:"Function Fallback",id:"function-fallback",level:3},{value:"Reset Keys",id:"reset-keys",level:2},{value:"Manual Reset",id:"manual-reset",level:2},{value:"Error Monitoring",id:"error-monitoring",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Limitations",id:"limitations",level:2}];function d(r){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...r.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"errorboundary",children:"ErrorBoundary"})}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.code,{children:"ErrorBoundary"})," component provides a way to catch JavaScript errors in your component tree and display fallback UI instead of crashing the entire application."]}),"\n",(0,t.jsx)(e.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsx)(e.h3,{id:"static-fallback",children:"Static Fallback"}),"\n",(0,t.jsx)(e.p,{children:"The simplest usage is with a static fallback UI:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'import { ErrorBoundary } from "@atomicjolt/atomic-elements";\n\nfunction App() {\n  return (\n    <ErrorBoundary fallback={<div>Something went wrong!</div>}>\n      <MyComponent />\n    </ErrorBoundary>\n  );\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"function-fallback",children:"Function Fallback"}),"\n",(0,t.jsx)(e.p,{children:"For more dynamic error handling, use a function fallback:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"function App() {\n  return (\n    <ErrorBoundary\n      fallback={(error, reset) => (\n        <div>\n          <h2>Oops! Something went wrong</h2>\n          <p>Error: {error.message}</p>\n          <button onClick={reset}>Try again</button>\n        </div>\n      )}\n    >\n      <MyComponent />\n    </ErrorBoundary>\n  );\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"reset-keys",children:"Reset Keys"}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.code,{children:"resetKeys"})," prop allows the ErrorBoundary to automatically reset when certain values change. This is useful for resetting the error state when the conditions that caused the error are no longer present."]}),"\n",(0,t.jsxs)(e.p,{children:["When any value in the ",(0,t.jsx)(e.code,{children:"resetKeys"})," array changes (using strict equality ",(0,t.jsx)(e.code,{children:"!=="})," comparison), the ErrorBoundary will:"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Clear the error state"}),"\n",(0,t.jsxs)(e.li,{children:["Call the ",(0,t.jsx)(e.code,{children:"onReset"})," callback (if provided)"]}),"\n",(0,t.jsx)(e.li,{children:"Re-render the children components"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'function UserDashboard() {\n  const { currentUser } = useAuth();\n  const [retryCount, setRetryCount] = useState(0);\n\n  return (\n    <ErrorBoundary\n      // Reset when user changes or when retryCount increments\n      resetKeys={[currentUser?.id, retryCount]}\n      fallback={(error, reset) => (\n        <ErrorBanner>\n          <p>Failed to load dashboard: {error.message}</p>\n          <Button onPress={() => setRetryCount((prev) => prev + 1)}>\n            Try Again\n          </Button>\n        </ErrorBanner>\n      )}\n      onReset={() => {\n        console.log("Dashboard error boundary reset");\n      }}\n    >\n      <Dashboard user={currentUser} />\n    </ErrorBoundary>\n  );\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"manual-reset",children:"Manual Reset"}),"\n",(0,t.jsxs)(e.p,{children:["You can also trigger a reset manually using the ",(0,t.jsx)(e.code,{children:"reset"})," function provided to function fallbacks:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"function AppWithManualReset() {\n  const [shouldThrow, setShouldThrow] = useState(true);\n\n  return (\n    <ErrorBoundary\n      fallback={(error, reset) => (\n        <div>\n          <h2>Component Error</h2>\n          <p>{error.message}</p>\n          <button\n            onClick={() =>\n              // Manually reset the error boundary  state\n              reset();\n            }}\n          >\n            Fix and Retry\n          </button>\n        </div>\n      )}\n    >\n      <BuggyComponent />\n    </ErrorBoundary>\n  );\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"error-monitoring",children:"Error Monitoring"}),"\n",(0,t.jsxs)(e.p,{children:["Use the ",(0,t.jsx)(e.code,{children:"onError"})," callback to report errors to monitoring services:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'function MonitoredApp() {\n  return (\n    <ErrorBoundary\n      onError={(error, errorInfo) => {\n        // Report to your error monitoring service\n        errorReporting.captureException(error, {\n          extra: errorInfo,\n          tags: { component: "App" },\n        });\n      }}\n      fallback={(error, reset) => (\n        <ErrorBanner>\n          <h3>Something went wrong</h3>\n          <p>We\'ve been notified and are working on a fix.</p>\n          <Button onPress={reset}>Try Again</Button>\n        </ErrorBanner>\n      )}\n    >\n      <App />\n    </ErrorBoundary>\n  );\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Use resetKeys"})," - Include any state that could affect whether the error occurs"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Provide meaningful fallbacks"})," - Show what went wrong and how to recover"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Report errors"})," - Use the ",(0,t.jsx)(e.code,{children:"onError"})," callback to send errors to monitoring services"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Test your error boundaries"})," - Throw errors in development to verify your fallbacks work"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"limitations",children:"Limitations"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Error boundaries only catch errors in child components, not in the error boundary itself"}),"\n",(0,t.jsx)(e.li,{children:"Error boundaries don't catch errors in event handlers - use try/catch for those"}),"\n",(0,t.jsx)(e.li,{children:"Error boundaries don't catch errors in async code - handle Promise rejections separately"}),"\n"]})]})}function u(r={}){const{wrapper:e}={...(0,s.R)(),...r.components};return e?(0,t.jsx)(e,{...r,children:(0,t.jsx)(d,{...r})}):d(r)}},8453(r,e,n){n.d(e,{R:()=>a,x:()=>i});var o=n(6540);const t={},s=o.createContext(t);function a(r){const e=o.useContext(s);return o.useMemo((function(){return"function"==typeof r?r(e):{...e,...r}}),[e,r])}function i(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(t):r.components||t:a(r.components),o.createElement(s.Provider,{value:e},r.children)}}}]);