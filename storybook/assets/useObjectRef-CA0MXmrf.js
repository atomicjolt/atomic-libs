import{$ as a}from"./useLayoutEffect-Bj1hLagI.js";import{r as l}from"./index-DJO9vBfz.js";import{a as d}from"./SSRProvider-DAMUgb6s.js";function s(t){const e=l.useRef(null);return a(()=>{e.current=t},[t]),l.useCallback((...f)=>{const r=e.current;return r==null?void 0:r(...f)},[])}function $(t){let[e,f]=l.useState(t),r=l.useRef(null),n=s(()=>{if(!r.current)return;let u=r.current.next();if(u.done){r.current=null;return}e===u.value?n():f(u.value)});a(()=>{r.current&&n()});let c=s(u=>{r.current=u(e),n()});return[e,c]}let b=!!(typeof window<"u"&&window.document&&window.document.createElement),o=new Map;function p(t){let[e,f]=l.useState(t),r=l.useRef(null),n=d(e),c=l.useCallback(u=>{r.current=u},[]);return b&&(o.has(n)&&!o.get(n).includes(c)?o.set(n,[...o.get(n),c]):o.set(n,[c])),a(()=>{let u=n;return()=>{o.delete(u)}},[n]),l.useEffect(()=>{let u=r.current;u&&(r.current=null,f(u))}),n}function m(t,e){if(t===e)return t;let f=o.get(t);if(f)return f.forEach(n=>n(e)),e;let r=o.get(e);return r?(r.forEach(n=>n(t)),t):e}function I(t=[]){let e=p(),[f,r]=$(e),n=l.useCallback(()=>{r(function*(){yield e,yield document.getElementById(e)?e:void 0})},[e,r]);return a(n,[e,n,...t]),f}function x(...t){return(...e)=>{for(let f of t)typeof f=="function"&&f(...e)}}function i(t){var e,f,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(f=i(t[e]))&&(r&&(r+=" "),r+=f)}else for(f in t)t[f]&&(r&&(r+=" "),r+=f);return r}function y(){for(var t,e,f=0,r="",n=arguments.length;f<n;f++)(t=arguments[f])&&(e=i(t))&&(r&&(r+=" "),r+=e);return r}function E(...t){let e={...t[0]};for(let f=1;f<t.length;f++){let r=t[f];for(let n in r){let c=e[n],u=r[n];typeof c=="function"&&typeof u=="function"&&n[0]==="o"&&n[1]==="n"&&n.charCodeAt(2)>=65&&n.charCodeAt(2)<=90?e[n]=x(c,u):(n==="className"||n==="UNSAFE_className")&&typeof c=="string"&&typeof u=="string"?e[n]=y(c,u):n==="id"&&c&&u?e.id=m(c,u):e[n]=u!==void 0?u:c}}return e}function k(t){const e=l.useRef(null);return l.useMemo(()=>({get current(){return e.current},set current(f){e.current=f,typeof t=="function"?t(f):t&&(t.current=f)}}),[t])}export{p as $,E as a,k as b,s as c,I as d,x as e};
