import{r as y}from"./index-DJO9vBfz.js";import{d as h}from"./focusSafely-BOUv7I-8.js";import{a as E}from"./useObjectRef-CA0MXmrf.js";import{$ as I}from"./filterDOMProps-CeZl_uWj.js";import{$ as M}from"./useFormReset-D24hgWtm.js";import{$ as D}from"./useControlledState-CN8sBTKq.js";import{$ as L}from"./useField-DAe_M2wp.js";import{$ as O}from"./useFocusable-DHL4UX94.js";import{$ as S}from"./useFormValidation-CdG9-Yzp.js";import{$ as q}from"./useFormValidationState-DFldk10H.js";function w(e,a){let{inputElementType:u="input",isDisabled:c=!1,isRequired:n=!1,isReadOnly:f=!1,type:m="text",validationBehavior:r="aria"}=e,[i,d]=D(e.value,e.defaultValue||"",e.onChange),{focusableProps:$}=O(e,a),l=q({...e,value:i}),{isInvalid:o,validationErrors:s,validationDetails:b}=l.displayValidation,{labelProps:p,fieldProps:v,descriptionProps:P,errorMessageProps:g}=L({...e,isInvalid:o,errorMessage:e.errorMessage||s}),x=I(e,{labelable:!0});const C={type:m,pattern:e.pattern};return M(a,i,d),S(e,l,a),y.useEffect(()=>{if(a.current instanceof h(a.current).HTMLTextAreaElement){let t=a.current;Object.defineProperty(t,"defaultValue",{get:()=>t.value,set:()=>{},configurable:!0})}},[a]),{labelProps:p,inputProps:E(x,u==="input"?C:void 0,{disabled:c,readOnly:f,required:n&&r==="native","aria-required":n&&r==="aria"||void 0,"aria-invalid":o||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],value:i,onChange:t=>d(t.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...$,...v}),descriptionProps:P,errorMessageProps:g,isInvalid:o,validationErrors:s,validationDetails:b}}export{w as $};
