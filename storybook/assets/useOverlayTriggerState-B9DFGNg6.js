import{r as n,R as l}from"./index-DJO9vBfz.js";import{a as b}from"./PressResponder-DHeHotEt.js";import{a as u}from"./FocusScope-BnAoeAyt.js";import{F as d}from"./index-DJdX7xnk.js";import{$ as p}from"./SSRProvider-DAMUgb6s.js";import{$ as x}from"./useLayoutEffect-Bj1hLagI.js";import{$ as m}from"./useControlledState-CN8sBTKq.js";const C=n.createContext({});function g(){var e;return(e=n.useContext(C))!==null&&e!==void 0?e:{}}const $=l.createContext(null);function h(e){let a=p(),{portalContainer:t=a?null:document.body,isExiting:i}=e,[o,c]=n.useState(!1),f=n.useMemo(()=>({contain:o,setContain:c}),[o,c]),{getContainer:s}=g();if(!e.portalContainer&&s&&(t=s()),!t)return null;let r=e.children;return e.disableFocusManagement||(r=l.createElement(u,{restoreFocus:!0,contain:o&&!i},r)),r=l.createElement($.Provider,{value:f},l.createElement(b,null,r)),d.createPortal(r,t)}function M(){let e=n.useContext($),a=e==null?void 0:e.setContain;x(()=>{a==null||a(!0)},[a])}function P(e){let[a,t]=m(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const i=n.useCallback(()=>{t(!0)},[t]),o=n.useCallback(()=>{t(!1)},[t]),c=n.useCallback(()=>{t(!a)},[t,a]);return{isOpen:a,setOpen:t,open:i,close:o,toggle:c}}export{P as $,M as a,h as b};
