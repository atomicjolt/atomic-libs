import{a as A,r as a,R as c}from"./index-DmM0KDA7.js";import{r as q}from"./index-CnHy7ftH.js";import{x as N}from"./useFocusable-B7cTVP20.js";import{$ as P}from"./SSRProvider-nIDwi1ZO.js";import{c as U}from"./useObjectRef-BO7mrmvR.js";var g={exports:{}},K={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E;function L(){if(E)return K;E=1;var r=A();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var t=typeof Object.is=="function"?Object.is:e,i=r.useState,l=r.useEffect,n=r.useLayoutEffect,s=r.useDebugValue;function d(u,h){var y=h(),C=i({inst:{value:y,getSnapshot:h}}),v=C[0].inst,b=C[1];return n(function(){v.value=y,v.getSnapshot=h,o(v)&&b({inst:v})},[u,y,h]),l(function(){return o(v)&&b({inst:v}),u(function(){o(v)&&b({inst:v})})},[u]),s(y),y}function o(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!t(u,y)}catch{return!0}}function f(u,h){return h()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return K.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:p,K}var D;function H(){return D||(D=1,g.exports=L()),g.exports}var _=H();class k{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new k(this.type,this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e.colSpan=this.colSpan,e.colIndex=this.colIndex,e}constructor(e,t){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=e,this.key=t}}class w{get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let i=t.get(e),l=(i==null?void 0:i.firstChildKey)!=null?t.get(i.firstChildKey):null;for(;l;)yield l,l=l.nextKey!=null?t.get(l.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var i;return(i=t==null?void 0:t.key)!==null&&i!==void 0?i:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;(e==null?void 0:e.lastChildKey)!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");this.keyMap.set(e.key,e)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");this.keyMap.delete(e)}commit(e,t,i=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!i}UNSTABLE_filter(e){let t=new w,i=null;for(let l of this)if(l.type==="section"&&l.hasChildNodes){let n=l.clone(),s=null;for(let d of this.getChildren(l.key))if(M(d,e,this,t)){let o=d.clone();s==null&&(n.firstChildKey=o.key),t.firstKey==null&&(t.firstKey=n.key),s&&s.parentKey===o.parentKey?(s.nextKey=o.key,o.prevKey=s.key):o.prevKey=null,o.nextKey=null,t.addNode(o),s=o}s&&(s.type!=="header"?(n.lastChildKey=s.key,i==null?n.prevKey=null:(i.type==="section"||i.type==="separator")&&(i.nextKey=n.key,n.prevKey=i.key),n.nextKey=null,i=n,t.addNode(n)):(t.firstKey===n.key&&(t.firstKey=null),t.removeNode(s.key)))}else if(l.type==="separator"){let n=l.clone();n.nextKey=null,(i==null?void 0:i.type)==="section"&&(i.nextKey=n.key,n.prevKey=i.key,i=n,t.addNode(n))}else{let n=l.clone();M(n,e,this,t)&&(t.firstKey==null&&(t.firstKey=n.key),i!=null&&i.type!=="section"&&i.type!=="separator"&&i.parentKey===n.parentKey?(i.nextKey=n.key,n.prevKey=i.key):n.prevKey=null,n.nextKey=null,t.addNode(n),i=n)}if((i==null?void 0:i.type)==="separator"&&i.nextKey===null){let l;i.prevKey!=null&&(l=t.getItem(i.prevKey),l.nextKey=null),t.removeNode(i.key),i=l}return t.lastKey=(i==null?void 0:i.key)||null,t}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1}}function M(r,e,t,i){if(r.type==="subdialogtrigger"||r.type==="submenutrigger"){let l=[...t.getChildren(r.key)][0];if(l&&e(l.textValue)){let n=l.clone();return i.addNode(n),!0}else return!1}else return r.type==="header"?!0:e(r.textValue)}class I{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}appendChild(e){this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode;let i=t;for(;i;)i.index++,i=i.nextSibling;e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}removeChild(e){if(e.parentNode!==this||!this.ownerDocument.isMounted)return;this.ownerDocument.startTransaction();let t=e.nextSibling;for(;t;)t.index--,t=t.nextSibling;e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.removeNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}addEventListener(){}removeEventListener(){}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this.ownerDocument=e}}class m extends I{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){return this.parentNode instanceof m?this.parentNode.level+(this.node.type==="item"?1:0):0}updateNode(){var e,t,i,l;let n=this.ownerDocument.getMutableNode(this);n.index=this.index,n.level=this.level,n.parentKey=this.parentNode instanceof m?this.parentNode.node.key:null;var s;n.prevKey=(s=(e=this.previousSibling)===null||e===void 0?void 0:e.node.key)!==null&&s!==void 0?s:null;var d;n.nextKey=(d=(t=this.nextSibling)===null||t===void 0?void 0:t.node.key)!==null&&d!==void 0?d:null,n.hasChildNodes=!!this.firstChild;var o;n.firstChildKey=(o=(i=this.firstChild)===null||i===void 0?void 0:i.node.key)!==null&&o!==void 0?o:null;var f;if(n.lastChildKey=(f=(l=this.lastChild)===null||l===void 0?void 0:l.node.key)!==null&&f!==void 0?f:null,(n.colSpan!=null||n.colIndex!=null)&&this.nextSibling){var p,u;let h=((p=n.colIndex)!==null&&p!==void 0?p:n.index)+((u=n.colSpan)!==null&&u!==void 0?u:1);if(h!==this.nextSibling.node.colIndex){let y=this.ownerDocument.getMutableNode(this.nextSibling);y.colIndex=h}}}setProps(e,t,i,l){let n=this.ownerDocument.getMutableNode(this),{value:s,textValue:d,id:o,...f}=e;if(f.ref=t,n.props=f,n.rendered=i,n.render=l,n.value=s,n.textValue=d||(typeof f.children=="string"?f.children:"")||e["aria-label"]||"",o!=null&&o!==n.key){if(this.hasSetProps)throw new Error("Cannot change the id of an item");n.key=o}f.colSpan!=null&&(n.colSpan=f.colSpan),this.hasSetProps||(this.ownerDocument.addNode(this),this.ownerDocument.endTransaction(),this.hasSetProps=!0),this.ownerDocument.queueUpdate()}get style(){return{}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this._index=0,this.hasSetProps=!1,this.node=new k(e,`react-aria-${++t.nodeId}`),this.ownerDocument.startTransaction()}}class B extends I{get isConnected(){return this.isMounted}createElement(e){return new m(e,this)}getMutableNode(e){let t=e.node;return this.mutatedNodes.has(e)||(t=e.node.clone(),this.mutatedNodes.add(e),e.node=t),this.markDirty(e),t}getMutableCollection(){return!this.isSSR&&!this.collectionMutated&&(this.collection=this.collection.clone(),this.collectionMutated=!0),this.collection}markDirty(e){this.dirtyNodes.add(e)}startTransaction(){this.transactionCount++}endTransaction(){this.transactionCount--}addNode(e){let t=this.getMutableCollection();if(!t.getItem(e.node.key)){t.addNode(e.node);for(let i of e)this.addNode(i)}this.markDirty(e)}removeNode(e){for(let i of e)this.removeNode(i);this.getMutableCollection().removeNode(e.node.key),this.markDirty(e)}getCollection(){return this.transactionCount>0?this.collection:(this.updateCollection(),this.collection)}updateCollection(){for(let n of this.dirtyNodes)n instanceof m&&n.isConnected&&n.updateNode();if(this.dirtyNodes.clear(),this.mutatedNodes.size||this.collectionMutated){var e,t;let n=this.getMutableCollection();for(let s of this.mutatedNodes)s.isConnected&&n.addNode(s.node);this.mutatedNodes.clear();var i,l;n.commit((i=(e=this.firstChild)===null||e===void 0?void 0:e.node.key)!==null&&i!==void 0?i:null,(l=(t=this.lastChild)===null||t===void 0?void 0:t.node.key)!==null&&l!==void 0?l:null,this.isSSR)}this.collectionMutated=!1}queueUpdate(){if(!(this.dirtyNodes.size===0||this.transactionCount>0))for(let e of this.subscriptions)e()}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.mutatedNodes=new Set,this.subscriptions=new Set,this.transactionCount=0,this.collection=e,this.collectionMutated=!0}}function O(r){let{children:e,items:t,idScope:i,addIdAndValue:l,dependencies:n=[]}=r,s=a.useMemo(()=>new WeakMap,n);return a.useMemo(()=>{if(t&&typeof e=="function"){let f=[];for(let p of t){let u=s.get(p);if(!u){u=e(p);var d,o;let h=(o=(d=u.props.id)!==null&&d!==void 0?d:p.key)!==null&&o!==void 0?o:p.id;if(h==null)throw new Error("Could not determine key for item");i&&(h=i+":"+h),u=a.cloneElement(u,l?{key:h,id:h,value:p}:{key:h}),s.set(p,u)}f.push(u)}return f}else if(typeof e!="function")return e},[e,t,s,i,l])}if(typeof HTMLTemplateElement<"u"){const r=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:r.call(this)}})}const x=a.createContext(!1);function j(r){if(a.useContext(x))return c.createElement(c.Fragment,null,r.children);let t=c.createElement(x.Provider,{value:!0},r.children);return c.createElement("template",{"data-react-aria-hidden":!0},t)}function ie(r){let e=(t,i)=>a.useContext(x)?null:r(t,i);return e.displayName=r.displayName||r.name,a.forwardRef(e)}function ne(){return a.useContext(x)}const T=a.createContext(!1),S=a.createContext(null);function le(r){if(a.useContext(S))return r.content;let{collection:t,document:i}=J(r.createCollection);return c.createElement(c.Fragment,null,c.createElement(j,null,c.createElement(S.Provider,{value:i},r.content)),c.createElement(F,{render:r.children,collection:t}))}function F({collection:r,render:e}){return e(r)}function W(r,e,t){let i=P(),l=a.useRef(i);l.current=i;let n=a.useCallback(()=>l.current?t():e(),[e,t]);return _.useSyncExternalStore(r,n)}const G=typeof c.useSyncExternalStore=="function"?c.useSyncExternalStore:W;function J(r){let[e]=a.useState(()=>new B((r==null?void 0:r())||new w)),t=a.useCallback(s=>e.subscribe(s),[e]),i=a.useCallback(()=>{let s=e.getCollection();return e.isSSR&&e.resetAfterSSR(),s},[e]),l=a.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]),n=G(t,i,l);return U(()=>(e.isMounted=!0,()=>{e.isMounted=!1}),[e]),{collection:n,document:e}}const $=a.createContext(null);function V(r,e,t,i,l,n){let s=a.useCallback(o=>{o==null||o.setProps(e,t,i,n)},[e,t,i,n]),d=a.useContext($);if(d){let o=d.ownerDocument.nodesByProps.get(e);return o||(o=d.ownerDocument.createElement(r),o.setProps(e,t,i,n),d.appendChild(o),d.ownerDocument.updateCollection(),d.ownerDocument.nodesByProps.set(e,o)),l?c.createElement($.Provider,{value:o},l):null}return c.createElement(r,{ref:s},l)}function re(r,e){let t=({node:l})=>e(l.props,l.props.ref,l),i=a.forwardRef((l,n)=>{let s=a.useContext(N);if(!a.useContext(T)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(l,n)}return V(r,l,n,"children"in l?l.children:null,null,o=>c.createElement(N.Provider,{value:s},c.createElement(t,{node:o})))});return i.displayName=e.name,i}function oe(r,e,t=z){let i=({node:n})=>e(n.props,n.props.ref,n),l=a.forwardRef((n,s)=>{let d=t(n);var o;return(o=V(r,n,s,null,d,f=>c.createElement(i,{node:f})))!==null&&o!==void 0?o:c.createElement(c.Fragment,null)});return l.displayName=e.name,l}function z(r){return O({...r,addIdAndValue:!0})}const R=a.createContext(null);function se(r){let e=a.useContext(R),t=((e==null?void 0:e.dependencies)||[]).concat(r.dependencies),i=r.idScope||(e==null?void 0:e.idScope),l=z({...r,idScope:i,dependencies:t});return a.useContext(S)&&(l=c.createElement(Q,null,l)),e=a.useMemo(()=>({dependencies:t,idScope:i}),[i,...t]),c.createElement(R.Provider,{value:e},l)}function Q({children:r}){let e=a.useContext(S),t=a.useMemo(()=>c.createElement(S.Provider,{value:null},c.createElement(T.Provider,{value:!0},r)),[r]);return P()?c.createElement($.Provider,{value:e},t):q.createPortal(t,e)}export{le as $,se as a,re as b,oe as c,O as d,ie as e,ne as f,w as g,k as h};
