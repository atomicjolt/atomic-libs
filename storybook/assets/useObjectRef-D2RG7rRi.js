import{R as $,r as l}from"./index-BCtMShv3.js";import{a as b}from"./SSRProvider-DyiXDq2k.js";const i=typeof document<"u"?$.useLayoutEffect:()=>{};function a(e){const t=l.useRef(null);return i(()=>{t.current=e},[e]),l.useCallback((...f)=>{const n=t.current;return n==null?void 0:n(...f)},[])}function p(e){let[t,f]=l.useState(e),n=l.useRef(null),r=a(()=>{if(!n.current)return;let u=n.current.next();if(u.done){n.current=null;return}t===u.value?r():f(u.value)});i(()=>{n.current&&r()});let c=a(u=>{n.current=u(t),r()});return[t,c]}let y=!!(typeof window<"u"&&window.document&&window.document.createElement),o=new Map,s;typeof FinalizationRegistry<"u"&&(s=new FinalizationRegistry(e=>{o.delete(e)}));function x(e){let[t,f]=l.useState(e),n=l.useRef(null),r=b(t),c=l.useRef(null);if(s&&s.register(c,r),y){const u=o.get(r);u&&!u.includes(n)?u.push(n):o.set(r,[n])}return i(()=>{let u=r;return()=>{s&&s.unregister(c),o.delete(u)}},[r]),l.useEffect(()=>{let u=n.current;return u&&f(u),()=>{u&&(n.current=null)}}),r}function g(e,t){if(e===t)return e;let f=o.get(e);if(f)return f.forEach(r=>r.current=t),t;let n=o.get(t);return n?(n.forEach(r=>r.current=e),e):t}function I(e=[]){let t=x(),[f,n]=p(t),r=l.useCallback(()=>{n(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,n]);return i(r,[t,r,...e]),f}function m(...e){return(...t)=>{for(let f of e)typeof f=="function"&&f(...t)}}function d(e){var t,f,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(f=d(e[t]))&&(n&&(n+=" "),n+=f)}else for(f in e)e[f]&&(n&&(n+=" "),n+=f);return n}function v(){for(var e,t,f=0,n="",r=arguments.length;f<r;f++)(e=arguments[f])&&(t=d(e))&&(n&&(n+=" "),n+=t);return n}function E(...e){let t={...e[0]};for(let f=1;f<e.length;f++){let n=e[f];for(let r in n){let c=t[r],u=n[r];typeof c=="function"&&typeof u=="function"&&r[0]==="o"&&r[1]==="n"&&r.charCodeAt(2)>=65&&r.charCodeAt(2)<=90?t[r]=m(c,u):(r==="className"||r==="UNSAFE_className")&&typeof c=="string"&&typeof u=="string"?t[r]=v(c,u):r==="id"&&c&&u?t.id=g(c,u):t[r]=u!==void 0?u:c}}return t}function w(e){const t=l.useRef(null);return l.useMemo(()=>({get current(){return t.current},set current(f){t.current=f,typeof e=="function"?e(f):e&&(e.current=f)}}),[e])}export{x as $,w as a,E as b,i as c,a as d,I as e,m as f};
