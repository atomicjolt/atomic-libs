import{r as n,R as l}from"./index-BCtMShv3.js";import{a as b}from"./PressResponder-DMBUHunT.js";import{a as u}from"./FocusScope-DX4qyq_T.js";import{c as d}from"./useObjectRef-D2RG7rRi.js";import{h as x}from"./index-BqCLlfdy.js";import{$ as m}from"./SSRProvider-DyiXDq2k.js";import{$ as p}from"./useControlledState-vzCMHZvt.js";const C=n.createContext({});function g(){var e;return(e=n.useContext(C))!==null&&e!==void 0?e:{}}const $=l.createContext(null);function S(e){let a=m(),{portalContainer:t=a?null:document.body,isExiting:i}=e,[o,c]=n.useState(!1),f=n.useMemo(()=>({contain:o,setContain:c}),[o,c]),{getContainer:s}=g();if(!e.portalContainer&&s&&(t=s()),!t)return null;let r=e.children;return e.disableFocusManagement||(r=l.createElement(u,{restoreFocus:!0,contain:(e.shouldContainFocus||o)&&!i},r)),r=l.createElement($.Provider,{value:f},l.createElement(b,null,r)),x.createPortal(r,t)}function M(){let e=n.useContext($),a=e==null?void 0:e.setContain;d(()=>{a==null||a(!0)},[a])}function P(e){let[a,t]=p(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const i=n.useCallback(()=>{t(!0)},[t]),o=n.useCallback(()=>{t(!1)},[t]),c=n.useCallback(()=>{t(!a)},[t,a]);return{isOpen:a,setOpen:t,open:i,close:o,toggle:c}}export{P as $,M as a,S as b};
