import { Meta, Canvas } from "@storybook/blocks";
import { useState } from "react";
import { SensibleDefaults } from "../../styles/defaults";
import { DatePicker } from "../../components/Inputs/DateAndTimes/DatePicker";
import { LocaleProvider } from "../../locale";
import { CustomSelect } from "../../components/Dropdowns/CustomSelect";
import { Item } from "../../components/Atoms/Collection";

<Meta title="Usage/Localization" />

# Localization

> **NOTE:** Localization support for components is currently in-progress. If you need better support for localization in a component please [open an issue](https://github.com/atomicjolt/atomic-elements/issues/new)

Several components handle the details of localization for you. For example, the `DatePicker` component will automatically localize the month and day names, and the `NumberInput` component will automatically localize the decimal and thousands separators.

## Customizing the Locale

By default, the locale is determined by the user's browser settings. You can override this by wrapping your component in a `LocaleProvider` and setting the `locale` prop.

```jsx
import { LocaleProvider } from "@atomic-elements";

<LocaleProvider locale="en">{/* Your app here */}</LocaleProvider>;
```

### Example

export function ExampleComponent() {
  const [locale, setLocale] = useState("en");

    return (
        <div>
            <SensibleDefaults />
            <LocaleProvider locale={locale}>
                <DatePicker label="Date Picker" />
            </LocaleProvider>
            <br />
            <CustomSelect label="Select Locale" selectedKey={locale} onSelectionChange={setLocale}>
                <Item key="en">English</Item>
                <Item key="es">Spanish</Item>
                <Item key="fr">French</Item>
                <Item key="ar">Arabic</Item>
            </CustomSelect>
        </div>
    );

}

The below datepicker's locale is determined by the `LocaleProvider` component. You can change the locale by selecting a different language from the dropdown.

<Canvas>
  <ExampleComponent />
</Canvas>
